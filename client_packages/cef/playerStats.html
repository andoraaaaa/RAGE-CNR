<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player Stats</title>
    <link href="css/skeleton.min.css" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet" />
</head>
<body>
    <main class="container">
        <div class="grid-flex">
            <div class="flex-1 statsForm">
                <div id="statsResult" class="form-result text-inverted bg-success">PLAYER STATS | Press ESC to close this page.</div>
                <br>
                <div class="player-stats">
                    <div class="stat-item">
                        <strong>Player Name:</strong> <span id="playerName"></span>
                    </div>
                    <div class="stat-item">
                        <strong>Account ID:</strong> <span id="accountId"></span>
                    </div>
                    <div class="stat-item">
                        <strong>Kills:</strong> <span id="kills"></span>
                    </div>
                    <div class="stat-item">
                        <strong>Deaths:</strong> <span id="deaths"></span>
                    </div>
                    <div class="stat-item">
                        <strong>K/D Ratio:</strong> <span id="kdRatio"></span>
                    </div>
                    <div class="stat-item">
                        <strong>Money:</strong> $<span id="money"></span>
                    </div>
                    <div class="stat-item">
                        <strong>Register Date:</strong> <span id="registerDate"></span>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script type="text/javascript">
        // Fungsi untuk menampilkan data statistik pemain
        function displayPlayerStats(data) {
            document.getElementById("playerName").innerText = data.playerName;
            document.getElementById("accountId").innerText = data.accountId;
            document.getElementById("kills").innerText = data.kills;
            document.getElementById("deaths").innerText = data.deaths;
            document.getElementById("kdRatio").innerText = data.kdRatio;
            document.getElementById("money").innerText = data.money;
            document.getElementById("registerDate").innerText = data.registerDate;
        }

        // Event handler untuk menerima data statistik dari server
        if (typeof mp !== "undefined") { // Pastikan script berjalan di RAGE:MP
            mp.events.add("sendPlayerStats", (data) => {
                displayPlayerStats(JSON.parse(data)); // Memanggil fungsi dengan data JSON yang diterima dari server
            });
        }
    </script>
</body>
</html>
